{"version":3,"sources":["scripts/util/copytoclipboard.js","scripts/util/extend.js","scripts/commands.js","scripts/pallet-commands/CMDR_resetFn.js","scripts/pallet-commands/CMD_marginsZero.js","scripts/pallet-commands/resetOpenModule.js","scripts/util/CMDR_renderAllModulesSettings.js","scripts/pallet-commands/resetAllModules.js","scripts/pallet-commands/marginsZeroOpenModule.js","scripts/pallet-commands/marginZeroAllModules.js","scripts/util/CMDR_renderAllRowSettings.js","scripts/pallet-commands/resetAllRows.js","scripts/pallet-commands/resetText.js","scripts/util/CMDR_renderAllColumnSettings.js","scripts/pallet-commands/resetAllColumns.js","scripts/util/CMDR_renderAllModuleSettingsWithArgs.js","scripts/util/CMDR_changeFn.js","scripts/pallet-commands/initChangeAllModulesWithArgs.js","scripts/pallet-commands/editModuleByType.js","scripts/util/getAllModuleTypes.js","scripts/util/createArgForm.js","scripts/open-palette.js","bb-commander.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["copyToClipboard","str","el","document","createElement","value","body","appendChild","select","execCommand","removeChild","extend","extended","deep","i","length","arguments","Object","prototype","toString","call","merge","obj","prop","hasOwnProperty","openParentColumnSettings","module","querySelector","col","closest","parent","parentElement","nodeId","dataset","node","global","FLBuilderSettingsForms","render","id","className","attrs","buttons","FLBuilderConfig","lite","simpleUi","badges","FLBuilderStrings","settings","FLBuilderSettingsConfig","nodes","preview","type","shortcutHook","FLBuilder","addHook","window","addEventListener","openColumnSettings","shortcutHookColumn","openModulesAdvancedTab","console","log","tabBar","classList","remove","advancedTab","click","openColAdvancedTab","deleteModule","e","result","confirm","deleteModuleMessage","row","getAttribute","ajax","action","node_id","_highlightEmptyCols","_removeAllOverlays","triggerHook","stopPropagation","deleteColumn","group","cols","width","rowCols","querySelectorAll","groupCols","userTemplateType","Math","round","forEach","style","setProperty","new_width","_initDropTargets","_initSortables","_resizeLayout","copyModSettings","form","d","Date","date","toDateString","wrap","styles","key","input","field","stringToCopy","JSON","stringify","_lightbox","close","shortcutHookCopyMod","pasteModSettings","data","navigator","clipboard","readText","then","text","moduleType","checkType","t","match","cleandata","replace","importedSettings","parse","err","merged","_saveSettingsComplete","bind","catch","error","shortcutHookPasteMod","CMDR_resetFn","display","name","tagName","contains","option","_saveSettings","CMD_marginsZero","CMDR_renderAllModuleSettings","modulesArray","cb","increment","modules","CMDR_renderAllRowSettings","rows","iframe","contentWindow","innerHTML","CMDR_renderAllColumnSettings","columns","CMDR_renderAllModuleSettingsWithArgs","inputName","newValue","CMDR_changeFn","inputValue","types","getAllModuleTypes","allModules","map","bbModule","createArgForm","inputNameClass","newValueClass","fnToListenFor","container","submitButton","add","setAttribute","innerText","moduleSelect","palette","createPalette","searchInput","executeBtn","datalist","hideCommandsSearch","BBCommander","reset_Open_Module","title","fn","resetOpenModule","description","hasArgs","reset_All_Modules","resetAllModules","margins_Zero_Open_Module","marginsZeroOpenModule","marginZeroAllModules","resetAllColumns","resetAllRows","initChangeAllModulesWithArgs","editModuleByType","hasArgsWithType","executeCommand","preventDefault","commands","keys","selectedCommand","find","cmd","cleanupPalette","ALL_COMMANDS","showCommands","searchStr","searchedCMDs","filter","toLowerCase","includes","list","item","join","removeList","removeListOnClick","target","cleanupPaletteOnExit","openCommandPalette","commanderstate","startCommander","bundleURL","getBundleURLCached","getBundleURL","Error","matches","stack","getBaseURL","url","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","OVERLAY_ID","OldModule","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","push","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","onclose","removeErrorOverlay","message","overlay","createErrorOverlay","getElementById","stackTrace","getParents","parents","k","dep","Array","isArray","concat","Function","deps","cached","cache","some"],"mappings":"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","file":"bb-commander.js","sourceRoot":"..","sourcesContent":["const copyToClipboard = str => {\n  const el = document.createElement(\"textarea\");\n  el.value = str;\n  document.body.appendChild(el);\n  el.select();\n  document.execCommand(\"copy\");\n  document.body.removeChild(el);\n};\nexport default copyToClipboard;\n","// Pass in the objects to merge as arguments.\n// For a deep extend, set the first argument to `true`.\nconst extend = function() {\n  // Variables\n  var extended = {};\n  var deep = false;\n  var i = 0;\n  var length = arguments.length;\n\n  // Check if a deep merge\n  if (Object.prototype.toString.call(arguments[0]) === \"[object Boolean]\") {\n    deep = arguments[0];\n    i++;\n  }\n\n  // Merge the object into the extended object\n  var merge = function(obj) {\n    for (var prop in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n        // If deep merge and property is an object, merge properties\n        if (\n          deep &&\n          Object.prototype.toString.call(obj[prop]) === \"[object Object]\"\n        ) {\n          extended[prop] = extend(true, extended[prop], obj[prop]);\n        } else {\n          extended[prop] = obj[prop];\n        }\n      }\n    }\n  };\n\n  // Loop through each object and conduct a merge\n  for (; i < length; i++) {\n    var obj = arguments[i];\n    merge(obj);\n  }\n\n  return extended;\n};\n\nexport default extend;\n","import copyToClipboard from \"./util/copytoclipboard\";\nimport extend from \"./util/extend\";\n\n// OPEN SETTINGS COMMANDS\n(function() {\n  function openParentColumnSettings() {\n    const module = document.querySelector(\".fl-module-overlay\");\n    if (!module) {\n      return null;\n    }\n    const col = module.closest(\".fl-col\");\n    const parent = col.parentElement.closest(\".fl-col\");\n    if (!parent) {\n      return null;\n    }\n    const nodeId = parent.dataset.node;\n    const global = module.closest(\".fl-block-overlay-global\") ? true : false;\n\n    FLBuilderSettingsForms.render({\n      id: \"col\",\n      nodeId: nodeId,\n      className: \"fl-builder-col-settings\",\n      attrs: 'data-node=\"' + nodeId + '\"',\n      buttons:\n        !global && !FLBuilderConfig.lite && !FLBuilderConfig.simpleUi\n          ? [\"save-as\"]\n          : [],\n      badges: global ? [FLBuilderStrings.global] : [],\n      settings: FLBuilderSettingsConfig.nodes[nodeId],\n      preview: {\n        type: \"col\"\n      }\n    });\n  }\n  function shortcutHook() {\n    // Register a hook listener using the key that you registered\n    // your shortcut with along with the function it should fire.\n    FLBuilder.addHook(\"openParentColumnSettings\", openParentColumnSettings);\n  }\n  window.addEventListener(\"load\", shortcutHook);\n})();\n\n(function() {\n  function openColumnSettings() {\n    /* \n    1. set up hover listener\n      - needs to grab:\n         module that is hovered\n         modules column node id = `fl-col.dataset.node\n    2. excute FLBuilderSettingsForms.render(config, callback)\n      - 2. pass settings (argument 1)\n      - 3. pass callback (argrument 2)\n\n    */\n    const module = document.querySelector(\".fl-module-overlay\");\n    if (!module) {\n      return null;\n    }\n    const col = module.closest(\".fl-col\");\n    const nodeId = col.dataset.node;\n    const global = module.closest(\".fl-block-overlay-global\") ? true : false;\n\n    FLBuilderSettingsForms.render({\n      id: \"col\",\n      nodeId: nodeId,\n      className: \"fl-builder-col-settings\",\n      attrs: 'data-node=\"' + nodeId + '\"',\n      buttons:\n        !global && !FLBuilderConfig.lite && !FLBuilderConfig.simpleUi\n          ? [\"save-as\"]\n          : [],\n      badges: global ? [FLBuilderStrings.global] : [],\n      settings: FLBuilderSettingsConfig.nodes[nodeId],\n      preview: {\n        type: \"col\"\n      }\n    });\n  }\n  function shortcutHookColumn() {\n    // Register a hook listener using the key that you registered\n    // your shortcut with along with the function it should fire.\n    FLBuilder.addHook(\"openColumnSettings\", openColumnSettings);\n  }\n  window.addEventListener(\"load\", shortcutHookColumn);\n})();\n(function() {\n  function openModulesAdvancedTab() {\n    const module = document\n      .querySelector(\".fl-module-overlay\")\n      .closest(\".fl-module\");\n    console.log(module);\n    const nodeId = module.dataset.node;\n    FLBuilderSettingsForms.render(\n      {\n        id: `${module.dataset.type}`,\n        nodeId: nodeId,\n        className: `fl-builder-module-settings  fl-builder-${\n          module.dataset.type\n        }-settings`,\n        attrs:\n          'data-node=\"' +\n          nodeId +\n          `\" data-type=${module.dataset.type} novalidate=\"novalidate\" `,\n        buttons: [\"save\"],\n        settings: FLBuilderSettingsConfig.nodes[nodeId],\n        type: \"module\",\n        preview: {\n          type: `${module.dataset.type}`\n        }\n      },\n      function() {\n        //makes the advanced tab open\n        const settings = document.querySelector(\".fl-builder-module-settings\");\n        const tabBar = settings.querySelector(\".fl-builder-settings-tabs\");\n        tabBar.querySelector(\".fl-active\").classList.remove(\"fl-active\");\n\n        const advancedTab = tabBar.querySelector(\n          `[href = \"#fl-builder-settings-tab-advanced\"]`\n        );\n        //advancedTab.classList.add(\"fl-active\");\n        advancedTab.click();\n      }\n    );\n  }\n  function shortcutHookColumn() {\n    // Register a hook listener using the key that you registered\n    // your shortcut with along with the function it should fire.\n    FLBuilder.addHook(\"openModulesAdvancedTab\", openModulesAdvancedTab);\n  }\n  window.addEventListener(\"load\", shortcutHookColumn);\n})();\n\n(function() {\n  function openColAdvancedTab() {\n    const module = document.querySelector(\".fl-module-overlay\");\n    if (!module) {\n      return null;\n    }\n    const col = module.closest(\".fl-col\");\n    const nodeId = col.dataset.node;\n    const global = module.closest(\".fl-block-overlay-global\") ? true : false;\n\n    FLBuilderSettingsForms.render(\n      {\n        id: \"col\",\n        nodeId: nodeId,\n        className: \"fl-builder-col-settings\",\n        attrs: 'data-node=\"' + nodeId + '\"',\n        buttons:\n          !global && !FLBuilderConfig.lite && !FLBuilderConfig.simpleUi\n            ? [\"save-as\"]\n            : [],\n        badges: global ? [FLBuilderStrings.global] : [],\n        settings: FLBuilderSettingsConfig.nodes[nodeId],\n        preview: {\n          type: \"col\"\n        }\n      },\n      function() {\n        //makes the advanced tab open\n        const settings = document.querySelector(\".fl-builder-settings\");\n        const tabBar = settings.querySelector(\".fl-builder-settings-tabs\");\n        tabBar.querySelector(\".fl-active\").classList.remove(\"fl-active\");\n\n        const advancedTab = tabBar.querySelector(\n          `[href = \"#fl-builder-settings-tab-advanced\"]`\n        );\n        //advancedTab.classList.add(\"fl-active\");\n        advancedTab.click();\n      }\n    );\n  }\n  function shortcutHookColumn() {\n    FLBuilder.addHook(\"openColAdvancedTab\", openColAdvancedTab);\n  }\n  window.addEventListener(\"load\", shortcutHookColumn);\n})();\n\n//delete command\n(function() {\n  function deleteModule(e) {\n    const module = document\n        .querySelector(\".fl-module-overlay\")\n        .closest(\".fl-module\"),\n      result = confirm(FLBuilderStrings.deleteModuleMessage);\n\n    if (result) {\n      var row = module.closest(\".fl-row\"),\n        nodeId = module.getAttribute(\"data-node\");\n\n      FLBuilder.ajax({\n        action: \"delete_node\",\n        node_id: nodeId\n      });\n\n      module.parentElement.removeChild(module);\n      row.classList.remove(\"fl-block-overlay-muted\");\n      FLBuilder._highlightEmptyCols();\n      FLBuilder._removeAllOverlays();\n      FLBuilder.triggerHook(\"didDeleteModule\", nodeId);\n\n      FLBuilder._removeAllOverlays();\n    }\n    e.stopPropagation();\n  }\n  function shortcutHookColumn() {\n    FLBuilder.addHook(\"deleteModule\", deleteModule);\n  }\n  window.addEventListener(\"load\", shortcutHookColumn);\n})();\n\n//delete COlumn command\n(function() {\n  function deleteColumn(e) {\n    const module = document\n        .querySelector(\".fl-module-overlay\")\n        .closest(\".fl-module\"),\n      result = confirm(FLBuilderStrings.deleteModuleMessage);\n    const col = module.closest(\".fl-col\");\n\n    if (result) {\n      var nodeId = col.getAttribute(\"data-node\"),\n        row = col.closest(\".fl-row\"),\n        group = col.closest(\".fl-col-group\"),\n        cols = null,\n        width = 0;\n\n      col.parentElement.removeChild(col);\n      rowCols = [\n        ...row.querySelectorAll(\".fl-row-content > .fl-col-group > .fl-col\")\n      ];\n      groupCols = [...group.querySelectorAll(\".fl-col\")];\n\n      if (\n        0 === rowCols.length &&\n        \"row\" != FLBuilderConfig.userTemplateType &&\n        \"column\" != FLBuilderConfig.userTemplateType\n      ) {\n        console.log(\"should delete row\");\n      } else {\n        if (0 === groupCols.length) {\n          group.parentElement.removeChild(group);\n        } else {\n          if (6 === groupCols.length) {\n            width = 16.65;\n          } else if (7 === groupCols.length) {\n            width = 14.28;\n          } else {\n            width = Math.round((100 / groupCols.length) * 100) / 100;\n          }\n\n          groupCols.forEach(col => col.style.setProperty(\"width\", width + \"%\"));\n\n          /* FLBuilder.triggerHook(\"didResetColumnWidths\", {\n            cols: groupCols\n          }); */\n        }\n\n        FLBuilder.ajax({\n          action: \"delete_col\",\n          node_id: nodeId,\n          new_width: width\n        });\n\n        FLBuilder._initDropTargets();\n        FLBuilder._initSortables();\n        //FLBuilder.triggerHook(\"didDeleteColumn\", nodeId);\n      }\n      FLBuilder._highlightEmptyCols();\n      FLBuilder._removeAllOverlays();\n      FLBuilder._resizeLayout();\n      FLBuilder._removeAllOverlays();\n    }\n    e.stopPropagation();\n  }\n  function shortcutHookColumn() {\n    FLBuilder.addHook(\"deleteColumn\", deleteColumn);\n  }\n  window.addEventListener(\"load\", shortcutHookColumn);\n})();\n\n//copy and paste modules styles\n(function() {\n  function copyModSettings(e) {\n    const module = document\n      .querySelector(\".fl-module-overlay\")\n      .closest(\".fl-module\");\n\n    /* \n    \n    2.get module node\n    3.render module settings\n    4.get type type = $(\".fl-builder-module-settings\").data(\"type\"),\n    5.settings = FLBuilder._getSettings(form)\n    */\n    const nodeId = module.dataset.node,\n      type = module.dataset.type;\n\n    FLBuilderSettingsForms.render(\n      {\n        id: `${module.dataset.type}`,\n        nodeId: nodeId,\n        className: `fl-builder-module-settings  fl-builder-${\n          module.dataset.type\n        }-settings`,\n        attrs:\n          'data-node=\"' +\n          nodeId +\n          `\" data-type=${module.dataset.type} novalidate=\"novalidate\" `,\n        buttons: [\"save\"],\n        settings: FLBuilderSettingsConfig.nodes[nodeId],\n        type: \"module\",\n        preview: {\n          type: `${type}`\n        }\n      },\n      function() {\n        //makes the advanced tab open\n        const form = document.querySelector(\n            `.fl-builder-module-settings[data-node=\"${nodeId}\"]`\n          ),\n          settings = FLBuilderSettingsConfig.nodes[nodeId],\n          d = new Date(),\n          date = d.toDateString(),\n          wrap = `/// {type:${type}} ${date}///`;\n        let styles = {};\n        for (const key in settings) {\n          console.log(key);\n          const input = document.querySelector(`[name*=\"${key}\"]`);\n          const field = input && input.closest(\".fl-field\");\n          if (field && field.getAttribute(\"data-is-style\") == \"true\") {\n            styles[key] = settings[key];\n          }\n        }\n        //\n        const stringToCopy = `${wrap}/${JSON.stringify(styles)}`;\n        copyToClipboard(stringToCopy);\n        console.log(stringToCopy);\n        FLBuilder._lightbox.close();\n      }\n    );\n  }\n  function shortcutHookCopyMod() {\n    FLBuilder.addHook(\"copyModSettings\", copyModSettings);\n  }\n  window.addEventListener(\"load\", shortcutHookCopyMod);\n})();\n\n// paste modules styles\n(function() {\n  function pasteModSettings(e) {\n    const module = document\n      .querySelector(\".fl-module-overlay\")\n      .closest(\".fl-module\");\n    const type = module.dataset.type;\n    let data = \"\";\n    navigator.clipboard\n      .readText()\n      .then(text => {\n        const moduleType = type;\n        let checkType = false;\n        data = text;\n        t = data.match(/\\/\\/\\/\\s\\{type:([a-z0-9-]+)/);\n\n        if (t && typeof t[1] !== \"undefined\") {\n          checkType = t[1];\n        }\n\n        if (checkType && checkType === moduleType) {\n          var cleandata = data.replace(/\\/\\/\\/.+\\/\\/\\//, \"\");\n          try {\n            var importedSettings = JSON.parse(cleandata);\n          } catch (err) {\n            console.log(err);\n            var importedSettings = false;\n            //!errorDiv.html(FLBuilderStrings.module_import.error).show();\n            return false;\n          }\n        }\n\n        if (importedSettings) {\n          const nodeId = module.dataset.node;\n\n          const merged = extend(\n            {},\n            FLBuilderSettingsConfig.nodes[nodeId],\n            importedSettings\n          );\n          FLBuilderSettingsConfig.nodes[nodeId] = merged;\n\n          FLBuilder.ajax(\n            {\n              action: \"save_settings\",\n              node_id: nodeId,\n              settings: merged\n            },\n            FLBuilder._saveSettingsComplete.bind(this, true, null)\n          );\n\n          FLBuilder.triggerHook(\"didSaveNodeSettings\", {\n            nodeId: nodeId,\n            settings: merged\n          });\n          FLBuilder._lightbox.close();\n        }\n      }) //reading clipboard history\n      .catch(err => {\n        console.error(err);\n      }); //error of reading clipboard history\n  }\n  function shortcutHookPasteMod() {\n    FLBuilder.addHook(\"pasteModSettings\", pasteModSettings);\n  }\n  window.addEventListener(\"load\", shortcutHookPasteMod);\n})();\n","export default function CMDR_resetFn() {\n  document\n    .querySelectorAll(\n      \".fl-builder-settings-fields input, .fl-builder-settings-fields select\"\n    )\n    .forEach(input => {\n      if (input.style.display === \"none\") {\n        return null;\n      }\n      if (input.name == \"visibility_display\") {\n        return null;\n      }\n\n      if (input.tagName == \"INPUT\") {\n        input.value = \"\";\n        if (\n          input.classList.contains(\"text-full\") &&\n          input.name !== \"id\" &&\n          input.name !== \"class\"\n        ) {\n          input.value = \"edit\" + input.name;\n        }\n      } else if (input.tagName == \"SELECT\") {\n        if (input.name === \"tag\") {\n          return null;\n        }\n        if (input.name === \"full_height\") {\n          input.value = \"default\";\n          console.log(input.value);\n        }\n        var option = input.querySelector(\"option\");\n\n        input.value = option && option.value; //incase their are no options\n      } else {\n        return;\n      }\n    });\n\n  FLBuilder._saveSettings();\n}\n","export default function CMD_marginsZero() {\n  document\n    .querySelectorAll(\n      \".fl-builder-settings-fields #fl-field-margin input[type=number]\"\n    )\n    .forEach(input => {\n      input.value = \"0\";\n    });\n  FLBuilder._saveSettings();\n}\n","export default function() {\n  document\n    .querySelectorAll(\n      `.fl-builder-settings-fields input, \n        .fl-builder-settings-fields select`\n    )\n    .forEach(input => {\n      if (input.tagName == \"INPUT\") {\n        if (input.type == \"hidden\") {\n          return;\n        }\n        input.value = \" \";\n        if (input.classList.contains(\"text-full\")) {\n          //looks for headings or small text\n          input.value = \"default text\";\n        }\n      } else {\n        if (input.name == \"visibility_display\") {\n          return;\n        }\n        var option = input.querySelector(\"option\");\n        input.value = option.value;\n      }\n    });\n  FLBuilder._saveSettings();\n}\n","export default function CMDR_renderAllModuleSettings(\n  modulesArray,\n  cb,\n  increment\n) {\n  const module = modulesArray[increment];\n\n  increment++;\n\n  const nodeId = module.dataset.node;\n  FLBuilderSettingsForms.render(\n    {\n      id: `${module.dataset.type}`,\n      nodeId: nodeId,\n      className: `fl-builder-module-settings  fl-builder-${\n        module.dataset.type\n      }-settings`,\n      attrs:\n        'data-node=\"' +\n        nodeId +\n        `\" data-type=${module.dataset.type} novalidate=\"novalidate\" `,\n      buttons: [\"save\"],\n      settings: FLBuilderSettingsConfig.nodes[nodeId],\n      type: \"module\",\n      preview: {\n        type: `${module.dataset.type}`\n      }\n    },\n    function() {\n      //recursively calls itself to loop through all the array in order\n      cb();\n\n      if (modulesArray.length <= increment) {\n        console.log(\"done\");\n        return;\n      } else {\n        CMDR_renderAllModuleSettings(modulesArray, cb, increment);\n      }\n    }\n  );\n}\n","import CMDR_renderAllModuleSettings from \"../util/CMDR_renderAllModulesSettings\";\nimport CMDR_resetFn from \"./CMDR_resetFn\";\nexport default function() {\n  const modules = [...document.querySelectorAll(\".fl-module\")];\n  let i = 0;\n  CMDR_renderAllModuleSettings(modules, CMDR_resetFn, i);\n}\n","export default function() {\n  document\n    .querySelectorAll(\n      \".fl-builder-settings-fields #fl-field-margin input[type=number]\"\n    )\n    .forEach(input => {\n      input.value = \"0\";\n    });\n\n  FLBuilder._saveSettings();\n}\n","import CMDR_renderAllModuleSettings from \"../util/CMDR_renderAllModulesSettings\";\nimport CMD_marginsZero from \"./CMD_marginsZero\";\nexport default function() {\n  const modules = [...document.querySelectorAll(\".fl-module\")];\n  let i = 0;\n  CMDR_renderAllModuleSettings(modules, CMD_marginsZero, i);\n}\n","export default function CMDR_renderAllRowSettings(modulesArray, cb, increment) {\n  const module = modulesArray[increment];\n\n  increment++;\n\n  const nodeId = module.dataset.node;\n\n  FLBuilderSettingsForms.render(\n    {\n      id: `row`,\n      nodeId: nodeId,\n      className: `fl-builder-col-settings`,\n      attrs: 'data-node=\"' + nodeId + `\" `,\n      buttons: [\"save\"],\n      settings: FLBuilderSettingsConfig.nodes[nodeId],\n      preview: {\n        type: `row`\n      }\n    },\n    function() {\n      //recursively calls itself to loop through all the array in order\n      cb();\n\n      if (modulesArray.length <= increment) {\n        console.log(\"done\");\n        return;\n      } else {\n        CMDR_renderAllRowSettings(modulesArray, cb, increment);\n      }\n    }\n  );\n}\n","import CMDR_resetFn from \"./CMDR_resetFn\";\nimport CMDR_renderAllRowSettings from \"../util/CMDR_renderAllRowSettings\";\nexport default function() {\n  const rows = document.querySelectorAll(\".fl-row\");\n\n  let i = 0;\n  CMDR_renderAllRowSettings(rows, CMDR_resetFn, i);\n}\n","//! this dont work!!\nexport default function() {\n  const iframe = document.querySelector(\n    \".fl-builder-settings-section-content .mce-edit-area iframe\"\n  );\n  iframe.contentWindow.document.body.innerHTML = \"\";\n}\n","export default function CMDR_renderAllColumnSettings(\n  modulesArray,\n  cb,\n  increment\n) {\n  const module = modulesArray[increment];\n\n  increment++;\n\n  const nodeId = module.dataset.node;\n\n  FLBuilderSettingsForms.render(\n    {\n      id: `col`,\n      nodeId: nodeId,\n      className: `fl-builder-col-settings`,\n      attrs: 'data-node=\"' + nodeId + `\" `,\n      buttons: [\"save\"],\n      settings: FLBuilderSettingsConfig.nodes[nodeId],\n      preview: {\n        type: `col`\n      }\n    },\n    function() {\n      //recursively calls itself to loop through all the array in order\n      cb();\n\n      if (modulesArray.length <= increment) {\n        console.log(\"done\");\n        return;\n      } else {\n        CMDR_renderAllColumnSettings(modulesArray, cb, increment);\n      }\n    }\n  );\n}\n","import CMDR_resetFn from \"./CMDR_resetFn\";\nimport CMDR_renderAllColumnSettings from \"../util/CMDR_renderAllColumnSettings\";\nexport default function() {\n  const columns = document.querySelectorAll(\".fl-col\");\n\n  let i = 0;\n  CMDR_renderAllColumnSettings(columns, CMDR_resetFn, i);\n}\n","/**\n *\n * @param {NODELIST} modulesArray list of nodes that will be looped through\n * @param {FUNCTION} cb that is called after form is rendered\n * @param {INT} increment always zero\n * @param {STRING} inputName name of input that should be changed\n * @param {STRING} newValue new value of input\n */\nexport default function CMDR_renderAllModuleSettingsWithArgs(\n  modulesArray,\n  cb,\n  increment,\n  inputName,\n  newValue\n) {\n  const module = modulesArray[increment];\n\n  increment++;\n\n  const nodeId = module.dataset.node;\n  FLBuilderSettingsForms.render(\n    {\n      id: `${module.dataset.type}`,\n      nodeId: nodeId,\n      className: `fl-builder-module-settings  fl-builder-${\n        module.dataset.type\n      }-settings`,\n      attrs:\n        'data-node=\"' +\n        nodeId +\n        `\" data-type=${module.dataset.type} novalidate=\"novalidate\" `,\n      buttons: [\"save\"],\n      settings: FLBuilderSettingsConfig.nodes[nodeId],\n      type: \"module\",\n      preview: {\n        type: `${module.dataset.type}`\n      }\n    },\n    function() {\n      //recursively calls itself to loop through all the array in order\n      cb(inputName, newValue);\n\n      if (modulesArray.length <= increment) {\n        console.log(\"done\");\n        return;\n      } else {\n        CMDR_renderAllModuleSettingsWithArgs(\n          modulesArray,\n          cb,\n          increment,\n          inputName,\n          newValue\n        );\n      }\n    }\n  );\n}\n","export default function CMDR_changeFn(inputName, inputValue) {\n  const form = document.querySelector(\".fl-builder-settings-fields\");\n  form.querySelectorAll(`${inputName}`).forEach(input => {\n    input.value = inputValue;\n  });\n  FLBuilder._saveSettings();\n}\n","import CMDR_renderAllModuleSettingsWithArgs from \"../util/CMDR_renderAllModuleSettingsWithArgs\";\nimport CMDR_changeFn from \"../util/CMDR_changeFn\";\n\nexport default function() {\n  const inputName = document.querySelector(\".inputName\").value;\n  const newValue = document.querySelector(\".toValue\").value;\n  const modules = document.querySelectorAll(\".fl-module\");\n  let i = 0;\n  CMDR_renderAllModuleSettingsWithArgs(\n    modules,\n    CMDR_changeFn,\n    i,\n    inputName,\n    newValue\n  );\n}\n","import CMDR_renderAllModuleSettingsWithArgs from \"../util/CMDR_renderAllModuleSettingsWithArgs\";\nimport CMDR_changeFn from \"../util/CMDR_changeFn\";\n\nexport default function() {\n  const inputName = document.querySelector(\".inputName\").value;\n  const newValue = document.querySelector(\".toValue\").value;\n  const types = document.querySelector(\".modules-type-select\").value;\n  const modules = document.querySelectorAll(`.fl-module[data-type=\"${types}\"]`);\n  let i = 0;\n  CMDR_renderAllModuleSettingsWithArgs(\n    modules,\n    CMDR_changeFn,\n    i,\n    inputName,\n    newValue\n  );\n}\n","export default function getAllModuleTypes() {\n  const allModules = document.querySelectorAll(\".fl-module\");\n  return [...allModules].map(bbModule => bbModule.dataset.type);\n}\n","import { cleanupPalette } from \"../open-palette\";\nimport getAllModuleTypes from \"./getAllModuleTypes\";\nexport default function createArgForm({\n  moduleType,\n  inputNameClass,\n  newValueClass,\n  fnToListenFor\n}) {\n  const container = document.createElement(\"div\");\n\n  const inputName = document.createElement(\"input\");\n  const inputValue = document.createElement(\"input\");\n  const submitButton = document.createElement(\"BUTTON\");\n\n  container.classList.add(\"args-container\");\n  inputName.classList.add(inputNameClass);\n  inputValue.classList.add(newValueClass);\n  submitButton.classList.add(\"submit-args-button\");\n\n  inputName.setAttribute(\"placeholder\", \"inputs name\");\n  inputName.setAttribute(\"type\", \"text\");\n  inputValue.setAttribute(\"placeholder\", \"new value\");\n  inputValue.setAttribute(\"type\", \"text\");\n  submitButton.setAttribute(\"type\", \"button\");\n  submitButton.innerText = \"RUN\";\n  console.log(moduleType);\n  if (moduleType == true) {\n    const moduleSelect = document.createElement(\"select\");\n    moduleSelect.classList.add(\"modules-type-select\");\n    const types = getAllModuleTypes();\n    [...types].forEach(type => {\n      const option = document.createElement(\"OPTION\");\n      option.value = type;\n      option.innerText = type;\n      moduleSelect.appendChild(option);\n    });\n    container.appendChild(moduleSelect);\n  }\n  container.appendChild(inputName);\n  container.appendChild(inputValue);\n  container.appendChild(submitButton);\n\n  const palette = document.querySelector(\".bb_cmdr_palette\");\n  palette.appendChild(container);\n\n  submitButton.addEventListener(\"click\", () => {\n    fnToListenFor();\n    cleanupPalette();\n  });\n  return;\n}\n","//COMMANDS\nimport CMDR_resetFn from \"./pallet-commands/CMDR_resetFn\";\nimport CMD_marginsZero from \"./pallet-commands/CMD_marginsZero\";\nimport resetOpenModule from \"./pallet-commands/resetOpenModule\";\nimport resetAllModules from \"./pallet-commands/resetAllModules\";\nimport marginsZeroOpenModule from \"./pallet-commands/marginsZeroOpenModule\";\nimport marginZeroAllModules from \"./pallet-commands/marginZeroAllModules\";\nimport resetAllRows from \"./pallet-commands/resetAllRows\";\nimport resetText from \"./pallet-commands/resetText\";\nimport resetAllColumns from \"./pallet-commands/resetAllColumns\";\nimport initChangeAllModulesWithArgs from \"./pallet-commands/initChangeAllModulesWithArgs\";\nimport editModuleByType from \"./pallet-commands/editModuleByType\";\nimport createArgForm from \"./util/createArgForm\";\n\n/**\n * function to create a form to add arguments to a function.\n * @param {STRING} inputNameClass class name of the input youll get the input name from\n * @param {STRING} newValueClass class name of the input you put your new value in\n */\n\nfunction createPalette() {\n  const el = document.createElement(\"div\");\n  const searchInput = document.createElement(\"input\");\n  const executeBtn = document.createElement(\"BUTTON\");\n  const datalist = document.createElement(\"DATALIST\");\n\n  el.classList.add(\"bb_cmdr_palette\");\n  executeBtn.setAttribute(\"type\", \"button\");\n  searchInput.setAttribute(\"type\", \"text\");\n  searchInput.setAttribute(\"list\", \"commands\");\n  datalist.id = \"commands\";\n  executeBtn.innerText = \"Execute\";\n  const container = document.createElement(\"form\");\n  container.classList.add(\"bb_cmdr_container\");\n\n  container.appendChild(searchInput);\n  container.appendChild(executeBtn);\n  el.appendChild(container);\n  el.appendChild(datalist);\n  document.body.appendChild(el);\n}\nfunction hideCommandsSearch() {\n  //hides the command search and execute button\n  document\n    .querySelector(\".bb_cmdr_container\")\n    .style.setProperty(\"display\", \"none\");\n}\n\nconst BBCommander = {\n  /**\n   * resets the open settings form.\n   * to my defaults {empty string or default text}\n   * or the first\n   * option in a select\n   */\n  reset_Open_Module: {\n    title: \"reset Open Modules\",\n    fn: resetOpenModule,\n    description: \"the open module settings input put will be set to a default\",\n    hasArgs: false\n  },\n\n  /**\n   * resets all modules on a page to empty string or the first\n   * option in a select\n   */\n  reset_All_Modules: {\n    title: \"Reset All Modules\",\n    description: \"every module settings input put will be set to a default\",\n    fn: resetAllModules,\n    hasArgs: false\n  },\n\n  /*\n   open modules will have 0 margins \n  */\n  margins_Zero_Open_Module: {\n    title: \"Zero Margin Open Module\",\n    description: \"the open module margins will be set to zero\",\n    fn: marginsZeroOpenModule,\n    hasArgs: false\n  },\n\n  /**\n   *  All modules will have 0 margins\n   */\n  marginZeroAllModules: {\n    title: \"Zero Margin All Modules\",\n    fn: marginZeroAllModules,\n    description: \"all modules margins will be set to zero\",\n    hasArgs: false\n  },\n\n  // resetText, //!this dont work */\n\n  resetAllColumns: {\n    title: \"Reset All Columns\",\n    fn: resetAllColumns,\n    description: \"every column settings input put will be set to a default\",\n    hasArgs: false\n  },\n\n  /**\n   * resets all rows on a page to empty string or the first\n   * option in a select\n   */\n  resetAllRows: {\n    title: \"Reset All Rows\",\n    fn: resetAllRows,\n    description: \"every rows settings input put will be set to a default\",\n    hasArgs: false\n  },\n\n  /**\n   * start of 2 step functions\n   * or\n   * functions with arguments\n   */\n  initChangeAllModulesWithArgs: {\n    title: \"Change All Modules with Custom Args\",\n    description:\n      \"give a selector and what value the input you select should have\",\n    fn: initChangeAllModulesWithArgs,\n    hasArgs: true\n  },\n  editModuleByType: {\n    title: \"Edit Modules By Module Type\",\n    description: \"only selects the module given in the given modules\",\n    fn: editModuleByType,\n    hasArgsWithType: true\n  }\n};\n\nfunction executeCommand(e) {\n  e.preventDefault();\n  const input = document.querySelector(\n    \".bb_cmdr_palette .bb_cmdr_container input\"\n  );\n  const commands = Object.keys(BBCommander);\n  const selectedCommand = commands.find(\n    cmd => BBCommander[cmd].title === input.value\n  );\n\n  if (BBCommander[selectedCommand].hasArgs) {\n    hideCommandsSearch();\n    createArgForm({\n      moduleType: false,\n      inputNameClass: \"inputName\",\n      newValueClass: \"toValue\",\n      fnToListenFor: BBCommander[selectedCommand].fn\n    });\n  } else if (BBCommander[selectedCommand].hasArgsWithType) {\n    hideCommandsSearch();\n    createArgForm({\n      moduleType: true,\n      inputNameClass: \"inputName\",\n      newValueClass: \"toValue\",\n      fnToListenFor: BBCommander[selectedCommand].fn\n    });\n  } else {\n    BBCommander[selectedCommand].fn();\n    cleanupPalette();\n  }\n}\n\nconst ALL_COMMANDS = Object.keys(BBCommander).map(key => ({\n  ...BBCommander[key]\n}));\n\n//this should eventually render select list like downshift\nfunction showCommands() {\n  const searchStr = this.value;\n  const searchedCMDs = ALL_COMMANDS.filter(({ title, description }) => {\n    return (\n      searchStr === \"\" ||\n      title.toLowerCase().includes(searchStr.toLowerCase()) ||\n      description.toLowerCase().includes(searchStr.toLowerCase())\n    );\n  });\n\n  const list = searchedCMDs\n    .map(cmd => {\n      const item = `<option value=\"${cmd.title}\" >${cmd.description}</option>`;\n      return item;\n    })\n    .join(\"\");\n  const datalist = document.querySelector(\".bb_cmdr_palette datalist\");\n  datalist.innerHTML = list;\n}\n\nfunction removeList() {\n  document.querySelector(\".bb_cmdr_palette input\").value = \"\";\n}\n\nfunction removeListOnClick(e) {\n  if (\n    e.target.closest(\".bb_cmdr_palette\") ||\n    e.target.classList.contains(\".bb_cmdr_palette\")\n  ) {\n    return;\n  }\n  //removeList();\n}\ndocument.body.setAttribute(\"data-commanderstate\", \"closed\");\n\nexport function cleanupPalette() {\n  const palette = document.querySelector(\".bb_cmdr_palette\");\n  if (palette) {\n    palette.parentElement.removeChild(palette);\n  }\n  document.body.setAttribute(\"data-commanderstate\", \"closed\");\n}\nfunction cleanupPaletteOnExit(e) {\n  if (e.target.classList.contains(\"fl-builder-button-primary\")) {\n    if (\n      e.target.dataset.action === \"publish\" ||\n      e.target.dataset.action === \"draft\" ||\n      e.target.dataset.action === \"discard\"\n    ) {\n      cleanupPalette();\n    }\n  }\n}\n\n/* \nthis is the parent function that calls everything\n*/\n(function() {\n  function openCommandPalette() {\n    if (document.body.dataset.commanderstate === \"closed\") {\n      createPalette();\n      document.body.dataset.commanderstate = \"open\";\n      const executeBtn = document.querySelector(\n        \".bb_cmdr_palette .bb_cmdr_container button\"\n      );\n      const input = document.querySelector(\n        \".bb_cmdr_palette .bb_cmdr_container input\"\n      );\n      const form = document.querySelector(\n        \".bb_cmdr_palette .bb_cmdr_container\"\n      );\n\n      input.addEventListener(\"focus\", showCommands);\n      input.addEventListener(\"input\", showCommands);\n      form.addEventListener(\"submit\", executeCommand);\n\n      executeBtn.addEventListener(\"click\", executeCommand);\n    } else {\n      const palette = document.querySelector(\".bb_cmdr_palette\");\n      if (palette) {\n        palette.parentElement.removeChild(palette);\n        document.body.dataset.commanderstate = \"closed\";\n      }\n    }\n  }\n  //this allows beaverbuilder to use the function\n  function startCommander() {\n    // Register a hook listener using the key that you registered\n    // your shortcut with along with the function it should fire.\n    FLBuilder.addHook(\"openCommandPalette\", openCommandPalette);\n  }\n  window.addEventListener(\"load\", startCommander);\n  window.addEventListener(\"click\", e => cleanupPaletteOnExit(e));\n})();\n","import \"./scripts/commands\";\n\nimport \"./scripts/open-palette\";\nimport \"./styles/palette.scss\";\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}